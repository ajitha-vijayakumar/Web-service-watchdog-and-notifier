"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/systems";
exports.ids = ["pages/api/systems"];
exports.modules = {

/***/ "joi":
/*!**********************!*\
  !*** external "joi" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("joi");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./models/system.js":
/*!**************************!*\
  !*** ./models/system.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"validateSystem\": () => (/* binding */ validateSystem)\n/* harmony export */ });\n/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! joi */ \"joi\");\n/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(joi__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst SystemSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_1___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    url: {\n        type: String,\n        required: true\n    },\n    type: {\n        type: String,\n        required: true\n    },\n    status: String,\n    logs: [\n        {\n            status: String,\n            time: Date\n        }\n    ]\n});\nfunction validateSystem(system) {\n    const schema = joi__WEBPACK_IMPORTED_MODULE_0___default().object({\n        name: joi__WEBPACK_IMPORTED_MODULE_0___default().string().max(50).required(),\n        url: joi__WEBPACK_IMPORTED_MODULE_0___default().required(),\n        type: joi__WEBPACK_IMPORTED_MODULE_0___default().string().required()\n    });\n    return schema.validate(system);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_1___default().models.System) || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"System\", SystemSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvc3lzdGVtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQjtBQUNVO0FBRWhDLE1BQU1FLFlBQVksR0FBRyxJQUFJRCx3REFBZSxDQUFDO0lBQ3ZDRyxJQUFJLEVBQUU7UUFBRUMsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUU7SUFDdENDLEdBQUcsRUFBRTtRQUFFSCxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBRTtJQUNyQ0YsSUFBSSxFQUFFO1FBQUVBLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFFO0lBQ3RDRSxNQUFNLEVBQUVILE1BQU07SUFDZEksSUFBSSxFQUFFO1FBQUM7WUFBRUQsTUFBTSxFQUFFSCxNQUFNO1lBQUVLLElBQUksRUFBRUMsSUFBSTtTQUFFO0tBQUM7Q0FDdkMsQ0FBQztBQUVLLFNBQVNDLGNBQWMsQ0FBQ0MsTUFBTSxFQUFFO0lBQ3JDLE1BQU1DLE1BQU0sR0FBR2YsaURBQVUsQ0FBQztRQUN4QkksSUFBSSxFQUFFSixpREFBVSxFQUFFLENBQUNrQixHQUFHLENBQUMsRUFBRSxDQUFDLENBQUNYLFFBQVEsRUFBRTtRQUNyQ0MsR0FBRyxFQUFFUixtREFBWSxFQUFFO1FBQ25CSyxJQUFJLEVBQUVMLGlEQUFVLEVBQUUsQ0FBQ08sUUFBUSxFQUFFO0tBQzlCLENBQUM7SUFFRixPQUFPUSxNQUFNLENBQUNJLFFBQVEsQ0FBQ0wsTUFBTSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUVELGlFQUFlYiwrREFBc0IsSUFBSUEscURBQWMsQ0FBQyxRQUFRLEVBQUVDLFlBQVksQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXBzdGF0cy8uL21vZGVscy9zeXN0ZW0uanM/M2IwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gXCJqb2lcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU3lzdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB1cmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgc3RhdHVzOiBTdHJpbmcsXG4gIGxvZ3M6IFt7IHN0YXR1czogU3RyaW5nLCB0aW1lOiBEYXRlIH1dLFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVN5c3RlbShzeXN0ZW0pIHtcbiAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCh7XG4gICAgbmFtZTogSm9pLnN0cmluZygpLm1heCg1MCkucmVxdWlyZWQoKSxcbiAgICB1cmw6IEpvaS5yZXF1aXJlZCgpLFxuICAgIHR5cGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB9KTtcblxuICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlKHN5c3RlbSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5TeXN0ZW0gfHwgbW9uZ29vc2UubW9kZWwoXCJTeXN0ZW1cIiwgU3lzdGVtU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJKb2kiLCJtb25nb29zZSIsIlN5c3RlbVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1cmwiLCJzdGF0dXMiLCJsb2dzIiwidGltZSIsIkRhdGUiLCJ2YWxpZGF0ZVN5c3RlbSIsInN5c3RlbSIsInNjaGVtYSIsIm9iamVjdCIsInN0cmluZyIsIm1heCIsInZhbGlkYXRlIiwibW9kZWxzIiwiU3lzdGVtIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./models/system.js\n");

/***/ }),

/***/ "(api)/./pages/api/systems/index.js":
/*!************************************!*\
  !*** ./pages/api/systems/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/db */ \"(api)/./utils/db.js\");\n/* harmony import */ var _models_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/system */ \"(api)/./models/system.js\");\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/auth */ \"(api)/./utils/auth.js\");\n// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    await (0,_utils_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    switch(req.method){\n        case \"GET\":\n            const systems = await _models_system__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find().sort(\"name\");\n            res.status(200).send(systems);\n            break;\n        case \"POST\":\n            await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(req, res, async ()=>{\n                const { error  } = (0,_models_system__WEBPACK_IMPORTED_MODULE_1__.validateSystem)(req.body);\n                if (error) return res.status(400).send(error.details[0].message);\n                const system = new _models_system__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                    name: req.body.name,\n                    url: req.body.url,\n                    type: req.body.type,\n                    status: \"up\"\n                });\n                await system.save();\n                res.send(system);\n            });\n            break;\n        default:\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"POST\"\n            ]);\n            res.status(405).end(`Method Not Allowed`);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3lzdGVtcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsNkVBQTZFO0FBQzFDO0FBQzZCO0FBQ3JCO0FBRTNDLGlFQUFlLE9BQU9JLEdBQUcsRUFBRUMsR0FBRyxHQUFLO0lBQ2pDLE1BQU1MLHFEQUFFLEVBQUUsQ0FBQztJQUNYLE9BQVFJLEdBQUcsQ0FBQ0UsTUFBTTtRQUNoQixLQUFLLEtBQUs7WUFDUixNQUFNQyxPQUFPLEdBQUcsTUFBTU4sMkRBQVcsRUFBRSxDQUFDUSxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ2hESixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSixPQUFPLENBQUMsQ0FBQztZQUM5QixNQUFNO1FBQ1IsS0FBSyxNQUFNO1lBQ1QsTUFBTUosdURBQVEsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUUsVUFBWTtnQkFDbkMsTUFBTSxFQUFFTyxLQUFLLEdBQUUsR0FBR1YsOERBQWMsQ0FBQ0UsR0FBRyxDQUFDUyxJQUFJLENBQUM7Z0JBQzFDLElBQUlELEtBQUssRUFBRSxPQUFPUCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7Z0JBRWpFLE1BQU1DLE1BQU0sR0FBRyxJQUFJZixzREFBTSxDQUFDO29CQUN4QmdCLElBQUksRUFBRWIsR0FBRyxDQUFDUyxJQUFJLENBQUNJLElBQUk7b0JBQ25CQyxHQUFHLEVBQUVkLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDSyxHQUFHO29CQUNqQkMsSUFBSSxFQUFFZixHQUFHLENBQUNTLElBQUksQ0FBQ00sSUFBSTtvQkFDbkJULE1BQU0sRUFBRSxJQUFJO2lCQUNiLENBQUM7Z0JBQ0YsTUFBTU0sTUFBTSxDQUFDSSxJQUFJLEVBQUUsQ0FBQztnQkFDcEJmLEdBQUcsQ0FBQ00sSUFBSSxDQUFDSyxNQUFNLENBQUMsQ0FBQztZQUNuQixDQUFDLENBQUMsQ0FBQztZQUNILE1BQU07UUFDUjtZQUNFWCxHQUFHLENBQUNnQixTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUFDLEtBQUs7Z0JBQUUsTUFBTTthQUFDLENBQUMsQ0FBQztZQUN4Q2hCLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDWSxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7S0FDN0M7QUFDSCxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91cHN0YXRzLy4vcGFnZXMvYXBpL3N5c3RlbXMvaW5kZXguanM/MzhhMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOZXh0LmpzIEFQSSByb3V0ZSBzdXBwb3J0OiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcGktcm91dGVzL2ludHJvZHVjdGlvblxuaW1wb3J0IGRiIGZyb20gXCIuLi8uLi8uLi91dGlscy9kYlwiO1xuaW1wb3J0IFN5c3RlbSwgeyB2YWxpZGF0ZVN5c3RlbSB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvc3lzdGVtXCI7XG5pbXBvcnQgd2l0aEF1dGggZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2F1dGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IGRiKCk7XG4gIHN3aXRjaCAocmVxLm1ldGhvZCkge1xuICAgIGNhc2UgXCJHRVRcIjpcbiAgICAgIGNvbnN0IHN5c3RlbXMgPSBhd2FpdCBTeXN0ZW0uZmluZCgpLnNvcnQoXCJuYW1lXCIpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoc3lzdGVtcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgYXdhaXQgd2l0aEF1dGgocmVxLCByZXMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gdmFsaWRhdGVTeXN0ZW0ocmVxLmJvZHkpO1xuICAgICAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xuXG4gICAgICAgIGNvbnN0IHN5c3RlbSA9IG5ldyBTeXN0ZW0oe1xuICAgICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICAgICAgdXJsOiByZXEuYm9keS51cmwsXG4gICAgICAgICAgdHlwZTogcmVxLmJvZHkudHlwZSxcbiAgICAgICAgICBzdGF0dXM6IFwidXBcIixcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHN5c3RlbS5zYXZlKCk7XG4gICAgICAgIHJlcy5zZW5kKHN5c3RlbSk7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQWxsb3dcIiwgW1wiR0VUXCIsIFwiUE9TVFwiXSk7XG4gICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgTm90IEFsbG93ZWRgKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJkYiIsIlN5c3RlbSIsInZhbGlkYXRlU3lzdGVtIiwid2l0aEF1dGgiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzeXN0ZW1zIiwiZmluZCIsInNvcnQiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJib2R5IiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJzeXN0ZW0iLCJuYW1lIiwidXJsIiwidHlwZSIsInNhdmUiLCJzZXRIZWFkZXIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/systems/index.js\n");

/***/ }),

/***/ "(api)/./utils/auth.js":
/*!***********************!*\
  !*** ./utils/auth.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res, fn)=>{\n    const token = req.headers[\"x-auth-token\"];\n    if (!token) return res.status(401).send(\"Access denied. No token provided.\");\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, \"secretkey\");\n        req.user = decoded;\n    } catch (ex) {\n        return res.status(400).send(\"Invalid token.\");\n    }\n    await fn();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9hdXRoLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixpRUFBZSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsRUFBRSxHQUFLO0lBQ3JDLE1BQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFPLENBQUMsY0FBYyxDQUFDO0lBQ3pDLElBQUksQ0FBQ0QsS0FBSyxFQUFFLE9BQU9GLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUU3RSxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxHQUFHUiwwREFBVSxDQUFDSSxLQUFLLEVBQUVNLFdBQXlCLENBQUM7UUFDNURULEdBQUcsQ0FBQ1ksSUFBSSxHQUFHTCxPQUFPLENBQUM7SUFDckIsRUFBRSxPQUFPTSxFQUFFLEVBQUU7UUFDWCxPQUFPWixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUNELE1BQU1KLEVBQUUsRUFBRSxDQUFDO0FBQ2IsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXBzdGF0cy8uL3V0aWxzL2F1dGguanM/ZWI2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzLCBmbikgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzW1wieC1hdXRoLXRva2VuXCJdO1xuICBpZiAoIXRva2VuKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoXCJBY2Nlc3MgZGVuaWVkLiBObyB0b2tlbiBwcm92aWRlZC5cIik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuand0UHJpdmF0ZUtleSk7XG4gICAgcmVxLnVzZXIgPSBkZWNvZGVkO1xuICB9IGNhdGNoIChleCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIkludmFsaWQgdG9rZW4uXCIpO1xuICB9XG4gIGF3YWl0IGZuKCk7XG59O1xuIl0sIm5hbWVzIjpbImp3dCIsInJlcSIsInJlcyIsImZuIiwidG9rZW4iLCJoZWFkZXJzIiwic3RhdHVzIiwic2VuZCIsImRlY29kZWQiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52Iiwiand0UHJpdmF0ZUtleSIsInVzZXIiLCJleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/auth.js\n");

/***/ }),

/***/ "(api)/./utils/db.js":
/*!*********************!*\
  !*** ./utils/db.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = \"mongodb+srv://ajitha:YSLtTS4utq6p!cW@cluster0.lkjnibi.mongodb.net/?retryWrites=true&w=majority\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n            bufferCommands: false,\n            bufferMaxEntries: 0,\n            useFindAndModify: false,\n            useCreateIndex: true\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9kYi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsV0FBVyxHQUFHQyxnR0FBdUI7QUFFM0MsSUFBSSxDQUFDRCxXQUFXLEVBQUU7SUFDaEIsTUFBTSxJQUFJRyxLQUFLLENBQ2Isc0VBQXNFLENBQ3ZFLENBQUM7QUFDSixDQUFDO0FBRUQ7Ozs7Q0FJQyxHQUNELElBQUlDLE1BQU0sR0FBR0MsTUFBTSxDQUFDTixRQUFRO0FBRTVCLElBQUksQ0FBQ0ssTUFBTSxFQUFFO0lBQ1hBLE1BQU0sR0FBR0MsTUFBTSxDQUFDTixRQUFRLEdBQUc7UUFBRU8sSUFBSSxFQUFFLElBQUk7UUFBRUMsT0FBTyxFQUFFLElBQUk7S0FBRSxDQUFDO0FBQzNELENBQUM7QUFFRCxlQUFlQyxTQUFTLEdBQUc7SUFDekIsSUFBSUosTUFBTSxDQUFDRSxJQUFJLEVBQUU7UUFDZixPQUFPRixNQUFNLENBQUNFLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFBSSxDQUFDRixNQUFNLENBQUNHLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxJQUFJLEdBQUc7WUFDWEMsZUFBZSxFQUFFLElBQUk7WUFDckJDLGtCQUFrQixFQUFFLElBQUk7WUFDeEJDLGNBQWMsRUFBRSxLQUFLO1lBQ3JCQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ25CQyxnQkFBZ0IsRUFBRSxLQUFLO1lBQ3ZCQyxjQUFjLEVBQUUsSUFBSTtTQUNyQjtRQUVEWCxNQUFNLENBQUNHLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLFdBQVcsRUFBRVMsSUFBSSxDQUFDLENBQUNRLElBQUksQ0FBQyxDQUFDbEIsUUFBUSxHQUFLO1lBQ3RFLE9BQU9BLFFBQVEsQ0FBQztRQUNsQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDREssTUFBTSxDQUFDRSxJQUFJLEdBQUcsTUFBTUYsTUFBTSxDQUFDRyxPQUFPLENBQUM7SUFDbkMsT0FBT0gsTUFBTSxDQUFDRSxJQUFJLENBQUM7QUFDckIsQ0FBQztBQUVELGlFQUFlRSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91cHN0YXRzLy4vdXRpbHMvZGIuanM/N2NiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XG5cbmlmICghTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIFwiUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWxcIlxuICApO1xufVxuXG4vKipcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cbiAqL1xubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcblxuaWYgKCFjYWNoZWQpIHtcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcbiAgaWYgKGNhY2hlZC5jb25uKSB7XG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xuICB9XG5cbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXG4gICAgICBidWZmZXJNYXhFbnRyaWVzOiAwLFxuICAgICAgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UsXG4gICAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcbiAgICB9O1xuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xuICAgIH0pO1xuICB9XG4gIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XG4gIHJldHVybiBjYWNoZWQuY29ubjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJidWZmZXJDb21tYW5kcyIsImJ1ZmZlck1heEVudHJpZXMiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwidXNlQ3JlYXRlSW5kZXgiLCJjb25uZWN0IiwidGhlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/systems/index.js"));
module.exports = __webpack_exports__;

})();