"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __asyncValues = (this && this.__asyncValues) || function (o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendMessage = exports.getMessages = exports.iterMessages = exports._IDsIter = exports._MessagesIter = void 0;
const tl_1 = require("../tl");
const requestIter_1 = require("../requestIter");
const Helpers_1 = require("../Helpers");
const Utils_1 = require("../Utils");
const __1 = require("../");
const _MAX_CHUNK_SIZE = 100;
class _MessagesIter extends requestIter_1.RequestIter {
    _init({ entity, offsetId, minId, maxId, fromUser, offsetDate, addOffset, filter, search, replyTo }) {
        var e_1, _a;
        return __awaiter(this, void 0, void 0, function* () {
            if (entity) {
                this.entity = yield this.client.getInputEntity(entity);
            }
            else {
                this.entity = undefined;
                if (this.reverse) {
                    throw new Error("Cannot reverse global search");
                }
            }
            if (this.reverse) {
                offsetId = Math.max(offsetId, minId);
                if (offsetId && maxId) {
                    if (maxId - offsetId <= 1) {
                        return false;
                    }
                }
                if (!maxId) {
                    maxId = Number.MAX_SAFE_INTEGER;
                }
            }
            else {
                offsetId = Math.max(offsetId, maxId);
                if (offsetId && minId) {
                    if (offsetId - minId <= 1) {
                        return false;
                    }
                }
            }
            if (this.reverse) {
                if (offsetId) {
                    offsetId += 1;
                }
                else if (!offsetDate) {
                    offsetId = 1;
                }
            }
            if (fromUser) {
                fromUser = yield this.client.getInputEntity(fromUser);
                this.fromId = yield this.client.getPeerId(fromUser);
            }
            else {
                this.fromId = null;
            }
            if (!this.entity && fromUser) {
                this.entity = new tl_1.Api.InputPeerEmpty();
            }
            if (!filter) {
                filter = new tl_1.Api.InputMessagesFilterEmpty();
            }
            if (!this.entity) {
                this.request = new tl_1.Api.messages.SearchGlobal({
                    q: search || '',
                    filter: filter,
                    minDate: undefined,
                    // TODO fix this smh
                    maxDate: offsetDate,
                    offsetRate: undefined,
                    offsetPeer: new tl_1.Api.InputPeerEmpty(),
                    offsetId: offsetId,
                    limit: 1,
                });
            }
            else if (replyTo !== undefined) {
                this.request = new tl_1.Api.messages.GetReplies({
                    peer: this.entity,
                    msgId: replyTo,
                    offsetId: offsetId,
                    offsetDate: offsetDate,
                    addOffset: addOffset,
                    limit: 0,
                    maxId: 0,
                    minId: 0,
                    hash: 0
                });
            }
            else if (search !== undefined || filter !== undefined || fromUser !== undefined) {
                const ty = Helpers_1._entityType(this.entity);
                if (ty == Helpers_1._EntityType.USER) {
                    fromUser = undefined;
                }
                else {
                    this.fromId = undefined;
                }
                this.request = new tl_1.Api.messages.Search({
                    peer: this.entity,
                    q: search || '',
                    filter: typeof filter === 'function' ? new filter() : filter,
                    minDate: undefined,
                    maxDate: offsetDate,
                    offsetId: offsetId,
                    addOffset: addOffset,
                    limit: 0,
                    maxId: 0,
                    minId: 0,
                    hash: 0,
                    fromId: fromUser
                });
                if (filter instanceof tl_1.Api.InputMessagesFilterEmpty && offsetDate && !search && !offsetId) {
                    try {
                        for (var _b = __asyncValues(this.client.iterMessages(this.entity, { limit: 1, offsetDate: offsetDate })), _c; _c = yield _b.next(), !_c.done;) {
                            const m = _c.value;
                            this.request.offsetId = m.id + 1;
                        }
                    }
                    catch (e_1_1) { e_1 = { error: e_1_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) yield _a.call(_b);
                        }
                        finally { if (e_1) throw e_1.error; }
                    }
                }
            }
            else {
                this.request = new tl_1.Api.messages.GetHistory({
                    peer: this.entity,
                    limit: 1,
                    offsetDate: offsetDate,
                    offsetId: offsetId,
                    minId: 0,
                    maxId: 0,
                    addOffset: addOffset,
                    hash: 0
                });
            }
            if (this.limit <= 0) {
                const result = yield this.client.invoke(this.request);
                if (result instanceof tl_1.Api.messages.MessagesNotModified) {
                    this.total = result.count;
                }
                else {
                    if ("count" in result) {
                        this.total = result.count;
                    }
                    else {
                        this.total = result.messages.length;
                    }
                }
                return false;
            }
            if (!this.waitTime) {
                this.waitTime = this.limit > 3000 ? 1 : 0;
            }
            if (this.reverse && !(this.request instanceof tl_1.Api.messages.SearchGlobal)) {
                this.request.addOffset -= _MAX_CHUNK_SIZE;
            }
            this.addOffset = addOffset;
            this.maxId = maxId;
            this.minId = minId;
            this.lastId = this.reverse ? 0 : Number.MAX_SAFE_INTEGER;
        });
    }
    _loadNextChunk() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.request) {
                throw new Error("Request not set yet");
            }
            this.request.limit = Math.min(this.left, _MAX_CHUNK_SIZE);
            if (this.reverse && this.request.limit != _MAX_CHUNK_SIZE) {
                if (!(this.request instanceof tl_1.Api.messages.SearchGlobal)) {
                    this.request.addOffset = this.addOffset - this.request.limit;
                }
            }
            const r = yield this.client.invoke(this.request);
            if (r instanceof tl_1.Api.messages.MessagesNotModified) {
                return true;
            }
            if ("count" in r) {
                this.total = r.count;
            }
            else {
                this.total = r.messages.length;
            }
            const entities = new Map();
            for (const x of [...r.users, ...r.chats]) {
                entities.set(Utils_1.getPeerId(x), x);
            }
            const messages = this.reverse ? r.messages.reverse() : r.messages;
            for (const message of messages) {
                if ((this.fromId && message.senderId != this.fromId)) {
                    continue;
                }
                if (!this._messageInRange(message)) {
                    return true;
                }
                this.lastId = message.id;
                try {
                    // if this fails it shouldn't be a big problem
                    message._finishInit(this.client, entities, this.entity);
                }
                catch (e) {
                }
                (_a = this.buffer) === null || _a === void 0 ? void 0 : _a.push(message);
            }
            if (r.messages.length < this.request.limit) {
                return true;
            }
            if (this.buffer) {
                this._updateOffset(this.buffer[this.buffer.length - 1], r);
            }
            else {
                return true;
            }
        });
    }
    _messageInRange(message) {
        if (this.entity) {
            if (this.reverse) {
                if (message.id <= this.lastId || message.id >= this.maxId) {
                    return false;
                }
            }
            else {
                if (message.id >= this.lastId || message.id <= this.minId) {
                    return false;
                }
            }
        }
        return true;
    }
    [Symbol.asyncIterator]() {
        return super[Symbol.asyncIterator]();
    }
    _updateOffset(lastMessage, response) {
        if (!this.request) {
            throw new Error("Request not set yet");
        }
        this.request.offsetId = Number(lastMessage.id);
        if (this.reverse) {
            this.request.offsetId += 1;
        }
        if (this.request instanceof tl_1.Api.messages.Search) {
            this.request.maxDate = -1;
        }
        else {
            if (!(this.request instanceof tl_1.Api.messages.SearchGlobal)) {
                this.request.offsetDate = lastMessage.date;
            }
        }
        if (this.request instanceof tl_1.Api.messages.SearchGlobal) {
            if (lastMessage.inputChat) {
                this.request.offsetPeer = lastMessage.inputChat;
            }
            else {
                this.request.offsetPeer = new tl_1.Api.InputPeerEmpty();
            }
            this.request.offsetRate = response.nextRate;
        }
    }
}
exports._MessagesIter = _MessagesIter;
class _IDsIter extends requestIter_1.RequestIter {
    _init({ entity, ids }) {
        return __awaiter(this, void 0, void 0, function* () {
            this.total = ids.length;
            this._ids = this.reverse ? ids.reverse() : ids;
            this._offset = 0;
            this._entity = entity ? (yield this.client.getInputEntity(entity)) : undefined;
            this._ty = this._entity ? Helpers_1._entityType(this._entity) : undefined;
            if (!this.waitTime) {
                this.waitTile = this.limit > 300 ? 10 : 0;
            }
        });
    }
    [Symbol.asyncIterator]() {
        return super[Symbol.asyncIterator]();
    }
    _loadNextChunk() {
        var _a, _b, _c;
        return __awaiter(this, void 0, void 0, function* () {
            const ids = this._ids.slice(this._offset, this._offset + _MAX_CHUNK_SIZE);
            if (!ids.length) {
                return false;
            }
            this._offset += _MAX_CHUNK_SIZE;
            let fromId;
            let r;
            if (this._ty == Helpers_1._EntityType.CHANNEL) {
                try {
                    r = yield this.client.invoke(new tl_1.Api.channels.GetMessages({
                        channel: this._entity,
                        id: ids
                    }));
                }
                catch (e) {
                    if (e.message == "MESSAGE_IDS_EMPTY") {
                        r = new tl_1.Api.messages.MessagesNotModified({
                            count: ids.length
                        });
                    }
                    else {
                        throw e;
                    }
                }
            }
            else {
                r = yield this.client.invoke(new tl_1.Api.messages.GetMessages({
                    id: ids
                }));
                if (this._entity) {
                    fromId = yield this.client._getPeer(this.entity);
                }
            }
            if (r instanceof tl_1.Api.messages.MessagesNotModified) {
                (_a = this.buffer) === null || _a === void 0 ? void 0 : _a.push(...Array(ids.length));
                return;
            }
            const entities = new Map();
            for (const entity of [...r.users, ...r.chats]) {
                entities.set(__1.utils.getPeerId(entity), entity);
            }
            let message;
            for (message of r.messages) {
                if (message instanceof tl_1.Api.MessageEmpty || fromId && message.peerId != fromId) {
                    (_b = this.buffer) === null || _b === void 0 ? void 0 : _b.push(undefined);
                }
                else {
                    (_c = this.buffer) === null || _c === void 0 ? void 0 : _c.push(message);
                }
            }
        });
    }
}
exports._IDsIter = _IDsIter;
//  MessageMethods {
function iterMessages(client, entity, { limit, offsetDate, offsetId, maxId, minId, addOffset, search, filter, fromUser, waitTime, ids, reverse = false, replyTo }) {
    if (ids) {
        if (typeof ids == 'number') {
            ids = [ids];
        }
        return new _IDsIter(client, ids.length, {
            reverse: reverse,
            waitTime: waitTime
        }, {
            entity: entity,
            ids: ids
        });
    }
    return new _MessagesIter(client, limit || 1, {
        waitTime: waitTime,
        reverse: reverse
    }, {
        entity: entity,
        offsetId: offsetId,
        minId: minId,
        maxId: maxId,
        fromUser: fromUser,
        offsetDate: offsetDate,
        addOffset: addOffset,
        filter: filter,
        search: search,
        replyTo: replyTo
    });
}
exports.iterMessages = iterMessages;
function getMessages(client, entity, params) {
    var e_2, _a;
    return __awaiter(this, void 0, void 0, function* () {
        if (Object.keys(params).length == 1 && params.limit === undefined) {
            if (params.minId === undefined && params.maxId === undefined) {
                params.limit = undefined;
            }
            else {
                params.limit = 1;
            }
        }
        const it = client.iterMessages(entity, params);
        const ids = params.ids;
        if (ids && !Helpers_1.isArrayLike(ids)) {
            try {
                for (var it_1 = __asyncValues(it), it_1_1; it_1_1 = yield it_1.next(), !it_1_1.done;) {
                    const message = it_1_1.value;
                    return [message];
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (it_1_1 && !it_1_1.done && (_a = it_1.return)) yield _a.call(it_1);
                }
                finally { if (e_2) throw e_2.error; }
            }
            return [];
        }
        return yield it.collect();
    });
}
exports.getMessages = getMessages;
// region Message
function sendMessage(client, entity, { message, replyTo, parseMode, formattingEntities, linkPreview = true, file, forceDocument, clearDraft, buttons, silent, schedule }) {
    return __awaiter(this, void 0, void 0, function* () {
        if (file) {
            throw new Error("Not Supported Yet");
            //return this.sendFile();
        }
        entity = yield client.getInputEntity(entity);
        let markup, request;
        if (message instanceof tl_1.Api.Message) {
            if (buttons == undefined) {
                markup = message.replyMarkup;
            }
            else {
                markup = client.buildReplyMarkup(buttons);
            }
            if (silent == undefined) {
                silent = message.silent;
            }
            if (message.media && !(message.media instanceof tl_1.Api.MessageMediaWebPage)) {
                throw new Error("Not Supported Yet");
                /*
                                return this.sendFile(entity, message.media, {
                                    caption: message.message,
                                    silent: silent,
                                    replyTo: replyTo,
                                    buttons: markup,
                                    formattingEntities: message.entities,
                                    schedule: schedule
                                })
    
                 */
            }
            request = new tl_1.Api.messages.SendMessage({
                peer: entity,
                message: message.message || '',
                silent: silent,
                replyToMsgId: Utils_1.getMessageId(replyTo),
                replyMarkup: markup,
                entities: message.entities,
                clearDraft: clearDraft,
                noWebpage: !(message.media instanceof tl_1.Api.MessageMediaWebPage),
                scheduleDate: schedule
            });
            message = message.message;
        }
        else {
            if (formattingEntities == undefined) {
                [message, formattingEntities] = yield client._parseMessageText(message, parseMode);
            }
            if (!message) {
                throw new Error("The message cannot be empty unless a file is provided");
            }
            request = new tl_1.Api.messages.SendMessage({
                peer: entity,
                message: message.toString(),
                entities: formattingEntities,
                noWebpage: !linkPreview,
                replyToMsgId: Utils_1.getMessageId(replyTo),
                clearDraft: clearDraft,
                silent: silent,
                replyMarkup: client.buildReplyMarkup(buttons),
                scheduleDate: schedule
            });
        }
        const result = yield client.invoke(request);
        return result;
        //return client._getResponseMessage(request, result, entity);
    });
}
exports.sendMessage = sendMessage;
// TODO do the rest
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9ncmFtanMvY2xpZW50L21lc3NhZ2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4QkFBMEI7QUFHMUIsZ0RBQTJDO0FBQzNDLHdDQUE0RTtBQUM1RSxvQ0FBaUQ7QUFFakQsMkJBQTBCO0FBRTFCLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQztBQWdCNUIsTUFBYSxhQUFjLFNBQVEseUJBQVc7SUFJcEMsS0FBSyxDQUFDLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFvQjs7O1lBRXJILElBQUksTUFBTSxFQUFFO2dCQUNSLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUMxRDtpQkFBTTtnQkFDSCxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztnQkFDeEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztpQkFDbkQ7YUFDSjtZQUNELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDZCxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksUUFBUSxJQUFJLEtBQUssRUFBRTtvQkFDbkIsSUFBSSxLQUFLLEdBQUcsUUFBUSxJQUFJLENBQUMsRUFBRTt3QkFDdkIsT0FBTyxLQUFLLENBQUM7cUJBQ2hCO2lCQUNKO2dCQUNELElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ1IsS0FBSyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztpQkFDbkM7YUFDSjtpQkFBTTtn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